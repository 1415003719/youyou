webpackJsonp([0],[,,,function(s,t,e){e(17);var o=e(0)(e(31),e(10),null,null);s.exports=o.exports},function(s,t,e){"use strict";var o=e(1),a=e(24),r=e(5),n=e.n(r),i=e(7),c=e.n(i),l=e(8),d=e.n(l);o.a.use(a.a),t.a=new a.a({routes:[{path:"/",name:"goodsContent",component:c.a},{path:"/comments",name:"comments",component:n.a},{path:"/toMyOrderPage",name:"MyOrderPage",component:d.a}]})},function(s,t,e){e(20);var o=e(0)(e(26),e(13),"data-v-5ffb86c1",null);s.exports=o.exports},function(s,t,e){e(18);var o=e(0)(e(27),e(11),"data-v-3cda97bc",null);s.exports=o.exports},function(s,t,e){e(19);var o=e(0)(e(28),e(12),"data-v-56cfa1e0",null);s.exports=o.exports},function(s,t,e){e(22);var o=e(0)(e(29),e(15),"data-v-df83a876",null);s.exports=o.exports},function(s,t,e){e(21);var o=e(0)(e(30),e(14),"data-v-7958b968",null);s.exports=o.exports},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"layout"},[e("v-header"),s._v(" "),e("v-content")],1)},staticRenderFns:[]}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"content"},[e("div",{staticClass:"contentMenu"},[e("div",{staticClass:"autoContent"},[e("div",{staticClass:"menu"},[e("router-link",{staticClass:"menuLine",attrs:{to:"/",tag:"a"}},[s._v("所有商品")]),s._v(" "),e("router-link",{staticClass:"menuLine",attrs:{to:"/comments",tag:"a"}},[s._v("评价")])],1)])]),s._v(" "),e("router-view")],1)},staticRenderFns:[]}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"goodsContent"},[e("div",{staticClass:"container"},s._l(s.allGoods,function(t){return e("div",{staticClass:"row"},[e("h3",{staticClass:"typeName"},[s._v(s._s(t.type.name)),e("span",[s._v(s._s(t.type.intro))])]),s._v(" "),s._l(t.goods,function(t){return e("div",{staticClass:"onegoods col-sm-5"},[e("div",{staticClass:"imgContent"},[e("img",{staticClass:"goodsPic",attrs:{src:t.img}})]),s._v(" "),e("div",{staticClass:"goodsAbout"},[e("h3",{staticClass:"goodsName"},[s._v(s._s(t.name))]),s._v(" "),e("span",{staticClass:"sales"},[s._v(s._s(t.sales))]),s._v(" "),e("div",{staticClass:"priceContent"},[e("span",[s._v("￥"+s._s(t.price))]),s._v(" "),e("span",[e("a",{staticClass:"addCarBtn btn btn-primary",attrs:{href:"javascript:void(0)"},on:{click:function(e){s.addCar(t)}}},[s._v("添加购物车")])])])])])})],2)})),s._v(" "),e("div",{staticClass:"goodsCar"},[e("div",{staticClass:"goodsCarShow"},[e("div",{staticClass:"clearCar"},[e("span",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){s.clearCar()}}},[s._v("清空")])])]),s._v(" "),e("ul",s._l(s.goodsCar,function(t,o){return e("li",[e("span",[s._v(s._s(t.name))]),s._v(" "),e("span",{staticClass:"priceColor"},[s._v(s._s(t.price)+"￥")]),s._v(" "),e("span",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){s.deleteGoods(o)}}},[s._v("删除")])])])}))]),s._v(" "),e("div",{staticClass:"pay"},[e("span",{staticClass:"totalPrice"},[s._v("总共￥"+s._s(s.computePrice))]),s._v(" "),e("span",{staticClass:"payBtn"},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){s.toMyOrderPage()}}},[s._v("下单")])])])])])},staticRenderFns:[]}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"comments"},[e("div",{staticClass:"container"},[e("div",{staticClass:"warp row"},s._l(s.allComments,function(t){return e("div",{staticClass:"commentWarp col-sm-7 col-sm-offset-2"},[e("span",[e("span",{staticClass:"yonghu"},[s._v("用户")]),s._v(s._s(t.user[0].username))]),s._v(" "),e("span",{staticClass:"mainComment"},[s._v(s._s(t.comment))]),s._v(" "),e("span",{staticClass:"date"},[s._v(s._s(s.formateDate(t.date)))])])}))])])},staticRenderFns:[]}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"container"},[s._m(0),s._v(" "),e("a",{attrs:{href:"/users"}},[s._v("首页")]),s._v(" "),e("router-link",{attrs:{tag:"a",to:"/toMyOrderPage"}},[s._v("\n      我的订单\n    ")]),s._v(" "),e("nav",{staticClass:"mine"},[e("div",{directives:[{name:"show",rawName:"v-show",value:1==s.userLogin,expression:"userLogin==1"}],staticClass:"loginState"},[e("span",[e("a",{attrs:{href:"http://127.0.0.1:3000/users/login"}},[s._v("欢迎"+s._s(s.userName))])]),s._v(" "),e("span",[s._v("/")]),s._v(" "),e("span",[e("router-link",{attrs:{tag:"a",to:"/toMyOrderPage"}},[s._v("我的资料")])],1),s._v(" "),s._m(1)]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:0==s.userLogin,expression:"userLogin==0"}],staticClass:"loginOutState"},[s._m(2),s._v(" "),e("span",[s._v("/")]),s._v(" "),s._m(3)])])],1)])},staticRenderFns:[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("h1",[e("a",{attrs:{href:"/users"}},[s._v("优优")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("span",[e("a",{attrs:{href:"http://127.0.0.1:3000/users/loginOut"}},[s._v("退出登录")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("span",[e("a",{attrs:{href:"http://127.0.0.1:3000/users/login"}},[s._v("登录")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("span",[e("a",{attrs:{href:"http://127.0.0.1:3000/users/register"}},[s._v("注册")])])}]}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"goodsContent"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"left col-sm-2 col-sm-offset-1"},[e("ul",[e("li",{on:{click:function(t){s.flag="isOrders"}}},[s._v("我的订单")]),s._v(" "),e("li",{on:{click:function(t){s.flag="isPassword"}}},[s._v("修改密码")]),s._v(" "),e("li",{on:{click:function(t){s.flag="isAddress"}}},[s._v("修改地址")])])]),s._v(" "),e("div",{staticClass:"content col-sm-7"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"isOrders"==s.flag,expression:"'isOrders'==flag"}],staticClass:"myOrders"},s._l(s.myOrders,function(t){return e("div",{staticClass:"row"},[e("div",{staticClass:"order"},[e("span",[s._v(s._s(s.formateDate(t.date)))]),s._v(" "),e("span",[s._v(s._s(t.goods[0].name))]),s._v(" "),e("span",[s._v("￥"+s._s(t.goods[0].price))]),s._v(" "),e("span",[s._v(s._s(t.state?"已处理":"未处理"))]),s._v(" "),e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){s.comment(t.goods[0]._id)}}},[s._v("评论")])])])})),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"isPassword"==s.flag,expression:"'isPassword'==flag"}],staticClass:"modifyPassword"},[e("form",{staticClass:"form-horizontal"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-3"},[e("p",{directives:[{name:"show",rawName:"v-show",value:"modifyResult"==s.isShow,expression:"isShow=='modifyResult'"}],staticClass:"warn"},[s._v(s._s(s.warnText))])])]),s._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-4 control-label",attrs:{for:"oldpassword"}},[s._v("原始密码")]),s._v(" "),e("div",{staticClass:"col-sm-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.oldpassword,expression:"oldpassword"}],staticClass:"form-control",attrs:{type:"password",id:"oldpassword",placeholder:"原始密码"},domProps:{value:s.oldpassword},on:{input:function(t){t.target.composing||(s.oldpassword=t.target.value)}}})]),s._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:"oldpassworderr"==s.isShow,expression:"isShow=='oldpassworderr'"}],staticClass:"warn"},[s._v(s._s(s.warnText))])]),s._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-4 control-label",attrs:{for:"password"}},[s._v("密码")]),s._v(" "),e("div",{staticClass:"col-sm-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"密码"},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}})]),s._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:"passworderr"==s.isShow,expression:"isShow=='passworderr'"}],staticClass:"warn"},[s._v(s._s(s.warnText))])]),s._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-4 col-sm-2"},[e("a",{staticClass:"btn btn-default",attrs:{id:"modifyPassword"},on:{click:function(t){s.modifyPassword()}}},[s._v("修改")])])])])]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"isAddress"==s.flag,expression:"'isAddress'==flag"}],staticClass:"modifyAddress"},[e("form",{staticClass:"form-horizontal"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-4 control-label",attrs:{for:"password"}},[s._v("地址")]),s._v(" "),e("div",{staticClass:"col-sm-8"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:s.myAddress,expression:"myAddress"}],attrs:{rows:"6",id:"address"},domProps:{value:s.myAddress},on:{input:function(t){t.target.composing||(s.myAddress=t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-4 col-sm-2"},[e("a",{staticClass:"btn btn-default",attrs:{id:"modifyPassword"},on:{click:function(t){s.modifyAddress()}}},[s._v("修改")])])])])])])])]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.formShow,expression:"formShow"}],staticClass:"commentForm"}),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.formShow,expression:"formShow"}],staticClass:"mymodal"},[e("form",{staticClass:"form-horizontal"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-3 control-label",attrs:{for:"phone"}},[s._v("评论")]),s._v(" "),e("div",{staticClass:"col-sm-3"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:s.comments,expression:"comments"}],attrs:{rows:"5"},domProps:{value:s.comments},on:{input:function(t){t.target.composing||(s.comments=t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-6 col-sm-6"},[e("a",{staticClass:"btn btn-default",attrs:{id:"sureBtn"},on:{click:s.submitCom}},[s._v("确定")]),s._v(" "),e("a",{staticClass:"btn btn-default",attrs:{id:"sureBtn"},on:{click:s.cancelCom}},[s._v("取消")])])])])])])},staticRenderFns:[]}},,function(s,t){},function(s,t){},function(s,t){},function(s,t){},function(s,t){},function(s,t){},,,function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(1),a=e(3),r=e.n(a),n=e(2),i=e(4);o.a.use(n.a),new o.a({el:"#app",router:i.a,template:"<Layout/>",components:{Layout:r.a}})},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={beforeCreate:function(){var s=this;this.$http.get("http://127.0.0.1:3000/users/getComments").then(function(t){s.allComments=t.body.result},function(s){console.log(s)})},data:function(){return{allComments:[]}},methods:{formateDate:function(s){var t=new Date(s);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}}}},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}}}},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={beforeCreate:function(){var s=this;this.$http.get("http://127.0.0.1:3000/users/getAllGoods").then(function(t){s.allGoods=t.body.result},function(s){console.log(s)})},data:function(){return{allGoods:[],goodsCar:[]}},methods:{addCar:function(s){this.goodsCar.push(s)},deleteGoods:function(s){this.goodsCar.splice(s,1)},clearCar:function(){this.goodsCar=[]},toMyOrderPage:function(){var s=this;this.$http.post("http://127.0.0.1:3000/users/toMyOrderPage",{orders:this.goodsCar}).then(function(t){"1"===t.body.result?s.$router.push("/toMyOrderPage"):window.location="http://127.0.0.1:3000/users/login"},function(s){console.log(s)})}},computed:{computePrice:function(){var s=0;return this.goodsCar.forEach(function(t){s+=t.price}),s}}}},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={beforeCreate:function(){var s=this;this.$http.get("http://127.0.0.1:3000/users/getMyOrder").then(function(t){-1===t.body.result?window.location="http://127.0.0.1:3000/users/login":(s.myOrders=t.body.result,s.myAddress=t.body.address)},function(s){console.log(s)})},data:function(){return{isShow:"",warnText:"",flag:"isOrders",myOrders:[],myAddress:"",id:"",formShow:!1,comments:"",oldpassword:"",password:""}},methods:{formateDate:function(s){var t=new Date(s);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},comment:function(s){this.id=s,this.formShow=!0},submitCom:function(){var s=this;if(""===this.comments)return this.id="",void(this.formShow=!1);this.$http.post("http://127.0.0.1:3000/users/comment",{comment:this.comments,id:this.id}).then(function(t){console.log(t),s.id="",s.formShow=!1,s.comments=""},function(t){console.log(t),s.id="",s.formShow=!1})},cancelCom:function(){this.formShow=!1,this.id=""},modifyPassword:function(){var s=this;return""===this.oldpassword||null===this.oldpassword?(this.isShow="oldpassworderr",void(this.warnText="*不能为空！")):""===this.password||null===this.password?(this.isShow="passworderr",void(this.warnText="*不能为空！")):(this.isShow="",void this.$http.post("http://127.0.0.1:3000/users/modifyPassword",{oldpassword:this.oldpassword,password:this.password}).then(function(t){if("1"===t.body.result){s.isShow="modifyResult",s.warnText="修改成功";var e=s;setTimeout(function(){e.isShow="",e.warnText=""},1e3)}},function(s){console.log(s)}))},modifyAddress:function(){this.$http.post("http://127.0.0.1:3000/users/modifyAddress",{address:this.myAddress}).then(function(s){console.log(s)},function(s){console.log(s)})}}}},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={beforeCreate:function(){var s=this;this.$http.get("http://127.0.0.1:3000/users/getLoginState").then(function(t){s.userLogin=t.body.userLogin,s.userName=t.body.userName},function(s){console.log(s)})},data:function(){return{userLogin:0,userName:null}}}},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(9),a=e.n(o),r=e(6),n=e.n(r);t.default={components:{"v-header":a.a,"v-content":n.a}}},function(s,t){}],[25]);
//# sourceMappingURL=app.cc2452af633584407c7e.js.map